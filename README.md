# TopChina Bot

Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PostgreSQL –∏ MySQL.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `config.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
cp config.example .env
```

–ó–∞—Ç–µ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# Telegram Bot Configuration
BOT_TOKEN=your_bot_token_here
ADMIN_ID=your_admin_telegram_id_here

# Database Configuration
# –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

# –í–∞—Ä–∏–∞–Ω—Ç 1: PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
DB_TYPE=postgresql
DATABASE_URL=postgresql://username:password@localhost:5432/orders_db

# –í–∞—Ä–∏–∞–Ω—Ç 2: MySQL (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ)
# DB_TYPE=mysql
# DB_HOST=localhost
# DB_PORT=3306
# DB_USER=root
# DB_PASS=password
# DB_NAME=orders_db

# Environment
NODE_ENV=development
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
npm run setup-db
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
npm start
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `npm run setup-db` - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- `npm start` - –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

## –§—É–Ω–∫—Ü–∏–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

- üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- üõçÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–æ—Ç–æ
- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤
- üìÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—Ç –¥–æ—Å—Ç–∞–≤–∫–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

- üîç –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Ç—Ä–µ–∫-–∫–æ–¥—É
- üì∏ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–æ–≤
- üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞

## –ö–æ–º–∞–Ω–¥—ã

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:

- `/createorder` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑
- `/addproduct –Ω–∞–∑–≤–∞–Ω–∏–µ,–æ–ø–∏—Å–∞–Ω–∏–µ,–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ` - –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä (–∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ)
- `/listorders` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
- `/updateorder —Å—Ç–∞—Ç—É—Å` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–∫–∞–∑–∞
- `/updatedelivery –¥–∞—Ç–∞` - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–∫–∞–∑–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:

- –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç—Ä–µ–∫-–∫–æ–¥ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–∫–∞–∑–∞
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

## –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤

- **Pending** - –í –æ–∂–∏–¥–∞–Ω–∏–∏
- **Shipped** - –û—Ç–ø—Ä–∞–≤–ª–µ–Ω
- **Delivered** - –î–æ—Å—Ç–∞–≤–ª–µ–Ω

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- MySQL

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `orders`

- `order_id` - ID –∑–∞–∫–∞–∑–∞
- `track_code` - –¢—Ä–µ–∫-–∫–æ–¥
- `status` - –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
- `delivery_date` - –î–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### –¢–∞–±–ª–∏—Ü–∞ `products`

- `product_id` - ID —Ç–æ–≤–∞—Ä–∞
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- `image_url` - URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### –¢–∞–±–ª–∏—Ü–∞ `order_items`

- `item_id` - ID —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–∞
- `order_id` - ID –∑–∞–∫–∞–∑–∞
- `product_id` - ID —Ç–æ–≤–∞—Ä–∞
- `quantity` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node setup_db.js`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node bot.js`

### Production (Render)

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ Render
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Render Dashboard
3. –î–µ–ø–ª–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 14+
- PostgreSQL 12+ –∏–ª–∏ MySQL 8+
- Telegram Bot Token
