# Устранение неполадок подключения к базе данных

## Проблема: ECONNREFUSED

Если вы видите ошибку `connect ECONNREFUSED`, это означает, что сервер базы данных недоступен.

### Возможные причины и решения:

1. **Неправильный хост или порт**

   - Проверьте переменные окружения `DB_HOST` и `DB_PORT`
   - Для freedb.tech используйте: `sql.freedb.tech:3306`

2. **Проблемы с SSL**

   - freedb.tech требует SSL подключение
   - Убедитесь, что `NODE_ENV=production`

3. **Фаервол или сетевые ограничения**

   - Проверьте, что Render может подключаться к внешним базам данных
   - Убедитесь, что база данных разрешает внешние подключения

4. **Неверные учетные данные**
   - Проверьте `DB_USER`, `DB_PASS`, `DB_NAME`
   - Убедитесь, что пользователь имеет права доступа к базе данных

## Проверка настроек freedb.tech

1. Войдите в панель управления freedb.tech
2. Убедитесь, что база данных активна
3. Проверьте данные подключения:
   - Host: `sql.freedb.tech`
   - Port: `3306`
   - Username: `freedb_ваш_логин`
   - Password: `ваш_пароль`
   - Database: `freedb_название_базы`

## Альтернативные решения

### 1. Использование другой базы данных

- PlanetScale (бесплатный план)
- Railway (бесплатный план)
- Supabase (бесплатный план)

### 2. Локальная база данных для тестирования

```bash
# Установите MySQL локально
# Создайте базу данных
# Обновите переменные окружения
```

## Логи для диагностики

Проверьте логи в Render Dashboard:

- Должно появиться: "✅ Подключение к базе данных успешно"
- Если ошибка: проверьте код ошибки и сообщение

## Контакты для поддержки

Если проблема не решается:

1. Проверьте статус сервиса freedb.tech
2. Обратитесь в поддержку Render
3. Рассмотрите альтернативные провайдеры БД
